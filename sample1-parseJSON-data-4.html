<!DOCTYPE html>
<html>
    <body id="bod">
        
        <h2>Create Object from JSON String</h2>
        
        <div>
        <p id="myDiv"></p>
        <p id="myOtherDiv"></p>
        </div>
        
        <div id="firstdiv"></div>


        <script>
            var text = '{"employees":[' +
            '{"firstName":"John","lastName":"Doe" },' +
            '{"firstName":"Anna","lastName":"Smith" },' +
            '{"firstName":"Peter","lastName":"Jones" }]}';
            
            var data = JSON.parse(text);
            
            //document.getElementById("myDiv").innerHTML = obj.employees[0].firstName + " " + obj.employees[0].lastName; //ok

            var outputDiv = document.getElementById("myDiv");
            data.employees.forEach(function(element){
                         console.log(element);
                         })
            
            data.employees.forEach(function(item)
                                   {
                                   //document.getElementById("myOtherDiv").innerHTML += item.firstName + " " + item.lastName + "  ";
                                   var dynamicDiv = document.createElement("div");//make a new div, dynamically
                                   //put a p in the div
                                   var newp = document.createElement("p");
                                   var newPMessage = "my data is saying: " + item.firstName + " " + item.lastName + "  "; //what's your message?
                                   var nodeToPaint = document.createTextNode(newPMessage);//encode your message in a text node, for printing
                                   newp.appendChild(nodeToPaint);//put the new text element in the new paragraph
                                   
                                   //var grabThis = document.getElementById(dynamicDiv);
                                   dynamicDiv.appendChild(newp);//append the paragraph to the new div
                                   
                                   //attach the div to the body
                                   var element = document.getElementById("bod");
                                   element.appendChild(dynamicDiv);
                                   });
                         
            </script>
        
    </body>
</html>
